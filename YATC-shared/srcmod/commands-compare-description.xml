<?xml version="1.0" encoding="UTF-8"?>
<group xmlns="https://nictiz.nl/ns/YATC-shared/text-document" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="https://nictiz.nl/ns/YATC-shared/text-document ../xsd/text-document.xsd">
    <!-- ======================================================================= -->
    <!-- 
       Describes a compare command in general
        
        Macros:
        * $COMMAND
      
    -->
    <!-- ======================================================================= -->
    <!--
        Copyright Â© Nictiz
        
        This program is free software; you can redistribute it and/or modify it under the terms of the
        GNU Lesser General Public License as published by the Free Software Foundation; either version
        2.1 of the License, or (at your option) any later version.
        
        This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
        without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
        See the GNU Lesser General Public License for more details.
        
        The full text of the license is available at http://www.gnu.org/copyleft/lesser.html
    -->
    <!-- ======================================================================= -->

    <unorderedlist>
        <entry>
            <para>The <code>$COMMAND</code> command is useful only when you have access to the original (usually Ant based) scripts from the <link href="https://github.com/Nictiz/HL7-mappings">HL7-mappings</link> or <link href="https://github.com/Nictiz/art_decor">art_decor</link> repository. Somewhere in the transition to the YATC system, these scripts will be removed or disabled, and this command will become superfluous.</para>
        </entry>
        <entry>
            <para>To compare, get a copy of the original <link href="https://github.com/Nictiz/HL7-mappings">HL7-mappings</link> or <link href="https://github.com/Nictiz/art_decor">art_decor</link> repository (the repository where the original scripts reside). </para>
        </entry>
        <entry>
            <para>Use the scripts in these original repository to build the data for the application/version you want to compare.</para>
        </entry>
        <entry>
            <para>Add the location of this repository to your local parameters override file (<code>{yatc-base-directory}/data/parameters.xml</code>). The parameter for this is:</para>
            <unorderedlist>
                <entry>
                    <para>For <link href="https://github.com/Nictiz/HL7-mappings">HL7-mappings</link>: <code>HL7MappingsRepoForComparisonsBaseDirectory</code></para>
                </entry>
                <entry>
                    <para>For <link href="https://github.com/Nictiz/art_decor">art_decor</link>: <code>ArtDecorRepoForComparisonsBaseDirectory</code></para>
                </entry>
            </unorderedlist>
        </entry>
        <entry>
            <para>Build the data using the YATC command for the application/version you want to compare. Take care that the results of this don't go to the same location as the ones produced by the original scripts!</para>
        </entry>
        <entry>
            <para>Run the <code>$COMMAND</code> command for the application/version you want to compare.</para>
        </entry>
        <entry>
            <para>Examine the output for <code>differences="true"</code> attributes (probably wise to redirect the output to a file and use an editor).</para>
        </entry>
        <entry>
            <para>This command does a document-by-document comparison, but, for each document, stops on the <emph>first</emph> difference found. So when the command reports differences, it's probably a good idea to load the files in a <emph>real</emph> XML diff application (there's one in oXygen) and examine what's going on in detail.</para>
        </entry>
        <entry>
            <para>The comparison process can be fine-tuned by adding compare rules. This mechanism is described <link href="../../../YATC-shared/doc/compare-rules.md">here</link>.</para>
        </entry>
    </unorderedlist>

</group>
